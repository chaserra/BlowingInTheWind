{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs3/core-js-stable/date/now\";\nimport { useCallback, useLayoutEffect, useMemo, useRef } from 'react';\nimport debounceFn from './debounce';\nvar EventSpy = function EventSpy(_ref) {\n  var debounce = _ref.debounce,\n    name = _ref.name,\n    onEvent = _ref.onEvent,\n    target = _ref.target;\n  // We need to save the \"onEvent\" to ref.\n  // This is because \"onEvent\" may change from time to time, but debounce may still fire to the older callback.\n  var onEventRef = useRef();\n  onEventRef.current = onEvent;\n  var debouncer = useMemo(function () {\n    return debounceFn(function (event) {\n      var current = onEventRef.current;\n      current && current(event);\n    }, debounce);\n  }, [debounce, onEventRef]);\n  var handleEvent = useCallback(function (event) {\n    event.timeStampLow = _Date$now();\n    debouncer(event);\n  }, [debouncer]);\n  useLayoutEffect(function () {\n    target.addEventListener(name, handleEvent, {\n      passive: true\n    });\n    handleEvent({\n      target: target,\n      type: name\n    });\n    return function () {\n      return target.removeEventListener(name, handleEvent);\n    };\n  }, [name, handleEvent, target]);\n  return false;\n};\nEventSpy.defaultProps = {\n  debounce: 200\n};\nexport default EventSpy;","map":{"version":3,"names":["useCallback","useLayoutEffect","useMemo","useRef","debounceFn","EventSpy","_ref","debounce","name","onEvent","target","onEventRef","current","debouncer","event","handleEvent","timeStampLow","_Date$now","addEventListener","passive","type","removeEventListener","defaultProps"],"sources":["C:\\Users\\ernes\\OneDrive\\Documents\\COMPX241 Labs\\COMPX241 - Blowing in the wind\\BlowingInTheWind\\client\\node_modules\\react-scroll-to-bottom\\src\\EventSpy.js"],"sourcesContent":["import { useCallback, useLayoutEffect, useMemo, useRef } from 'react';\n\nimport debounceFn from './debounce';\n\nconst EventSpy = ({ debounce, name, onEvent, target }) => {\n  // We need to save the \"onEvent\" to ref.\n  // This is because \"onEvent\" may change from time to time, but debounce may still fire to the older callback.\n  const onEventRef = useRef();\n\n  onEventRef.current = onEvent;\n\n  const debouncer = useMemo(\n    () =>\n      debounceFn(event => {\n        const { current } = onEventRef;\n\n        current && current(event);\n      }, debounce),\n    [debounce, onEventRef]\n  );\n\n  const handleEvent = useCallback(\n    event => {\n      event.timeStampLow = Date.now();\n\n      debouncer(event);\n    },\n    [debouncer]\n  );\n\n  useLayoutEffect(() => {\n    target.addEventListener(name, handleEvent, { passive: true });\n    handleEvent({ target, type: name });\n\n    return () => target.removeEventListener(name, handleEvent);\n  }, [name, handleEvent, target]);\n\n  return false;\n};\n\nEventSpy.defaultProps = {\n  debounce: 200\n};\n\nexport default EventSpy;\n"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,OAAvC,EAAgDC,MAAhD,QAA8D,OAA9D;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAWA,CAAAC,IAAA,EAAyC;EAAA,IAAtCC,QAAsC,GAAAD,IAAA,CAAtCC,QAAsC;IAA5BC,IAA4B,GAAAF,IAAA,CAA5BE,IAA4B;IAAtBC,OAAsB,GAAAH,IAAA,CAAtBG,OAAsB;IAAbC,MAAa,GAAAJ,IAAA,CAAbI,MAAa;EACxD;EACA;EACA,IAAMC,UAAU,GAAGR,MAAM,EAAzB;EAEAQ,UAAU,CAACC,OAAX,GAAqBH,OAArB;EAEA,IAAMI,SAAS,GAAGX,OAAO,CACvB;IAAA,OACEE,UAAU,CAAC,UAAAU,KAAK,EAAI;MAClB,IAAQF,OAAR,GAAoBD,UAApB,CAAQC,OAAR;MAEAA,OAAO,IAAIA,OAAO,CAACE,KAAD,CAAlB;IACD,CAJS,EAIPP,QAJO,CADZ;EAAA,CADuB,EAOvB,CAACA,QAAD,EAAWI,UAAX,CAPuB,CAAzB;EAUA,IAAMI,WAAW,GAAGf,WAAW,CAC7B,UAAAc,KAAK,EAAI;IACPA,KAAK,CAACE,YAAN,GAAqBC,SAAA,EAArB;IAEAJ,SAAS,CAACC,KAAD,CAAT;EACD,CAL4B,EAM7B,CAACD,SAAD,CAN6B,CAA/B;EASAZ,eAAe,CAAC,YAAM;IACpBS,MAAM,CAACQ,gBAAP,CAAwBV,IAAxB,EAA8BO,WAA9B,EAA2C;MAAEI,OAAO,EAAE;IAAX,CAA3C;IACAJ,WAAW,CAAC;MAAEL,MAAM,EAANA,MAAF;MAAUU,IAAI,EAAEZ;IAAhB,CAAD,CAAX;IAEA,OAAO;MAAA,OAAME,MAAM,CAACW,mBAAP,CAA2Bb,IAA3B,EAAiCO,WAAjC,CAAN;IAAA,CAAP;EACD,CALc,EAKZ,CAACP,IAAD,EAAOO,WAAP,EAAoBL,MAApB,CALY,CAAf;EAOA,OAAO,KAAP;AACD,CAlCD;AAoCAL,QAAQ,CAACiB,YAAT,GAAwB;EACtBf,QAAQ,EAAE;AADY,CAAxB;AAIA,eAAeF,QAAf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}